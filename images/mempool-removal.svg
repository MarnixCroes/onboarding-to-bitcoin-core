<svg aria-labelledby='chart-title-mermaid-1662035531425 chart-desc-mermaid-1662035531425' height='506' id='mermaid-1662035531425' preserveAspectRatio='xMidYMid meet' role='img' style='max-width: 1147px; background-color: white;' viewBox='0 0 1147 506' width='100%' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'><title id='chart-title-mermaid-1662035531425'/><desc id='chart-desc-mermaid-1662035531425'/><style>#mermaid-1662035531425 {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1662035531425 .error-icon{fill:#552222;}#mermaid-1662035531425 .error-text{fill:#552222;stroke:#552222;}#mermaid-1662035531425 .edge-thickness-normal{stroke-width:2px;}#mermaid-1662035531425 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1662035531425 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1662035531425 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1662035531425 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1662035531425 .marker{fill:#333333;stroke:#333333;}#mermaid-1662035531425 .marker.cross{stroke:#333333;}#mermaid-1662035531425 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1662035531425 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1662035531425 .cluster-label text{fill:#333;}#mermaid-1662035531425 .cluster-label span{color:#333;}#mermaid-1662035531425 .label text,#mermaid-1662035531425 span{fill:#333;color:#333;}#mermaid-1662035531425 .node rect,#mermaid-1662035531425 .node circle,#mermaid-1662035531425 .node ellipse,#mermaid-1662035531425 .node polygon,#mermaid-1662035531425 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1662035531425 .node .label{text-align:center;}#mermaid-1662035531425 .node.clickable{cursor:pointer;}#mermaid-1662035531425 .arrowheadPath{fill:#333333;}#mermaid-1662035531425 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1662035531425 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1662035531425 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1662035531425 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1662035531425 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1662035531425 .cluster text{fill:#333;}#mermaid-1662035531425 .cluster span{color:#333;}#mermaid-1662035531425 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1662035531425 .label foreignObject{font-size:85%;overflow:visible;}#mermaid-1662035531425 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g transform='translate(0, 0)'><marker class='marker flowchart' id='flowchart-pointEnd' markerHeight='12' markerUnits='userSpaceOnUse' markerWidth='12' orient='auto' refX='9' refY='5' viewBox='0 0 10 10'><path class='arrowMarkerPath' d='M 0 0 L 10 5 L 0 10 z' style='stroke-width: 1; stroke-dasharray: 1, 0;'/></marker><marker class='marker flowchart' id='flowchart-pointStart' markerHeight='12' markerUnits='userSpaceOnUse' markerWidth='12' orient='auto' refX='0' refY='5' viewBox='0 0 10 10'><path class='arrowMarkerPath' d='M 0 5 L 10 10 L 10 0 z' style='stroke-width: 1; stroke-dasharray: 1, 0;'/></marker><marker class='marker flowchart' id='flowchart-circleEnd' markerHeight='11' markerUnits='userSpaceOnUse' markerWidth='11' orient='auto' refX='11' refY='5' viewBox='0 0 10 10'><circle class='arrowMarkerPath' cx='5' cy='5' r='5' style='stroke-width: 1; stroke-dasharray: 1, 0;'/></marker><marker class='marker flowchart' id='flowchart-circleStart' markerHeight='11' markerUnits='userSpaceOnUse' markerWidth='11' orient='auto' refX='-1' refY='5' viewBox='0 0 10 10'><circle class='arrowMarkerPath' cx='5' cy='5' r='5' style='stroke-width: 1; stroke-dasharray: 1, 0;'/></marker><marker class='marker cross flowchart' id='flowchart-crossEnd' markerHeight='11' markerUnits='userSpaceOnUse' markerWidth='11' orient='auto' refX='12' refY='5.2' viewBox='0 0 11 11'><path class='arrowMarkerPath' d='M 1,1 l 9,9 M 10,1 l -9,9' style='stroke-width: 2; stroke-dasharray: 1, 0;'/></marker><marker class='marker cross flowchart' id='flowchart-crossStart' markerHeight='11' markerUnits='userSpaceOnUse' markerWidth='11' orient='auto' refX='-1' refY='5.2' viewBox='0 0 11 11'><path class='arrowMarkerPath' d='M 1,1 l 9,9 M 10,1 l -9,9' style='stroke-width: 2; stroke-dasharray: 1, 0;'/></marker><g class='root'><g class='clusters'><g class='cluster default' id='txmempool.cpp'><rect height='420' rx='0' ry='0' style='' width='179.828125' x='285.421875' y='8'/><g class='cluster-label' transform='translate(321.0859375, 13)'><foreignObject height='18' width='108.5'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>txmempool.cpp</span></div></foreignObject></g></g><g class='cluster default' id='validation.cpp'><rect height='100' rx='0' ry='0' style='' width='227.421875' x='8' y='398'/><g class='cluster-label' transform='translate(72.7890625, 403)'><foreignObject height='18' width='97.84375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>validation.cpp</span></div></foreignObject></g></g></g><g class='edgePaths'><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-remove_recursive LE-remove_staged' d='M440.25,58L444.4166666666667,58C448.5833333333333,58,456.9166666666667,58,465.25,58C473.5833333333333,58,481.9166666666667,58,499.0152669270833,88.83333333333333C516.1138671875,119.66666666666667,541.9777343750001,181.33333333333334,554.90966796875,212.16666666666666L567.8416015625,243' id='L-remove_recursive-remove_staged-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-remove_reorg LE-remove_staged' d='M438.734375,138L443.1536458333333,138C447.5729166666667,138,456.4114583333333,138,464.9973958333333,138C473.5833333333333,138,481.9166666666667,138,498.3162434895833,155.5C514.7158203125,173,539.181640625,208,551.41455078125,225.5L563.6474609375,243' id='L-remove_reorg-remove_staged-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-remove_block LE-remove_staged' d='M436.84375,218L441.578125,218C446.3125,218,455.78125,218,464.6822916666667,218C473.5833333333333,218,481.9166666666667,218,494.8211263020833,222.16666666666666C507.7255859375,226.33333333333334,525.201171875,234.66666666666666,533.93896484375,238.83333333333334L542.6767578125,243' id='L-remove_block-remove_staged-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-expire LE-remove_staged' d='M406.6328125,298L416.40234375,298C426.171875,298,445.7109375,298,459.6471354166667,298C473.5833333333333,298,481.9166666666667,298,494.8211263020833,293.8333333333333C507.7255859375,289.6666666666667,525.201171875,281.3333333333333,533.93896484375,277.1666666666667L542.6767578125,273' id='L-expire-remove_staged-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-trim_to_size LE-remove_staged' d='M421.1015625,378L428.4596354166667,378C435.8177083333333,378,450.5338541666667,378,462.05859375,378C473.5833333333333,378,481.9166666666667,378,498.3162434895833,360.5C514.7158203125,343,539.181640625,308,551.41455078125,290.5L563.6474609375,273' id='L-trim_to_size-remove_staged-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-finalize LE-remove_staged' d='M210.421875,448L214.58854166666666,448C218.75520833333334,448,227.08854166666666,448,235.421875,448C243.75520833333334,448,252.08854166666666,448,260.421875,448C268.7552083333333,448,277.0885416666667,448,296.2408854166667,448C315.3932291666667,448,345.3645833333333,448,375.3359375,448C405.3072916666667,448,435.2786458333333,448,454.4309895833333,448C473.5833333333333,448,481.9166666666667,448,498.96008086622805,418.8333333333333C516.0034950657895,389.6666666666667,541.756990131579,331.3333333333333,554.6337376644736,302.1666666666667L567.5104851973684,273' id='L-finalize-remove_staged-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-remove_staged LE-update_for_remove' d='M633.015625,258L637.1822916666666,258C641.3489583333334,258,649.6822916666666,258,658.015625,258C666.3489583333334,258,674.6822916666666,258,678.8489583333334,258L683.015625,258' id='L-remove_staged-update_for_remove-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-update_for_remove LE-remove_unchecked' d='M951.609375,258L955.7760416666666,258C959.9427083333334,258,968.2760416666666,258,976.609375,258C984.9427083333334,258,993.2760416666666,258,997.4427083333334,258L1001.609375,258' id='L-update_for_remove-remove_unchecked-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/></g><g class='edgeLabels'><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g></g><g class='nodes'><g class='root' transform='translate(675.515625, 130)'><g class='clusters'><g class='cluster default' id='update_for_remove'><rect height='240' rx='0' ry='0' style='' width='268.59375' x='8' y='8'/><g class='cluster-label' transform='translate(17.8125, 13)'><foreignObject height='18' width='248.96875'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>UpdateForRemoveFromMempool()</span></div></foreignObject></g></g></g><g class='edgePaths'><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-calculate_ancestors LE-update_ancestors' d='M142.296875,63L142.296875,67.16666666666667C142.296875,71.33333333333333,142.296875,79.66666666666667,142.296875,88C142.296875,96.33333333333333,142.296875,104.66666666666667,142.296875,108.83333333333333L142.296875,113' id='L-calculate_ancestors-update_ancestors-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-update_ancestors LE-update_children' d='M142.296875,143L142.296875,147.16666666666666C142.296875,151.33333333333334,142.296875,159.66666666666666,142.296875,168C142.296875,176.33333333333334,142.296875,184.66666666666666,142.296875,188.83333333333334L142.296875,193' id='L-update_ancestors-update_children-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/></g><g class='edgeLabels'><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g></g><g class='nodes'><g class='node default default' id='flowchart-update_children-45' transform='translate(142.296875, 208)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='192.546875' x='-96.2734375' y='-15'/><g class='label' style='' transform='translate(-88.7734375, -7.5)'><foreignObject height='15' width='177.546875'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>UpdateChildrenForRemoval()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-calculate_ancestors-43' transform='translate(142.296875, 48)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='198.59375' x='-99.296875' y='-15'/><g class='label' style='' transform='translate(-91.796875, -7.5)'><foreignObject height='15' width='183.59375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>CalculateMemPoolAncestors()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-update_ancestors-44' transform='translate(142.296875, 128)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='142.6875' x='-71.34375' y='-15'/><g class='label' style='' transform='translate(-63.84375, -7.5)'><foreignObject height='15' width='127.6875'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>UpdateAncestorsOf()</span></div></foreignObject></g></g></g></g><g class='node default default' id='flowchart-remove_recursive-37' transform='translate(375.3359375, 58)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='129.828125' x='-64.9140625' y='-15'/><g class='label' style='' transform='translate(-57.4140625, -7.5)'><foreignObject height='15' width='114.828125'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>removeRecursive()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-remove_reorg-38' transform='translate(375.3359375, 138)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='126.796875' x='-63.3984375' y='-15'/><g class='label' style='' transform='translate(-55.8984375, -7.5)'><foreignObject height='15' width='111.796875'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>removeForReorg()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-remove_block-39' transform='translate(375.3359375, 218)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='123.015625' x='-61.5078125' y='-15'/><g class='label' style='' transform='translate(-54.0078125, -7.5)'><foreignObject height='15' width='108.015625'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>removeForBlock()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-expire-40' transform='translate(375.3359375, 298)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='62.59375' x='-31.296875' y='-15'/><g class='label' style='' transform='translate(-23.796875, -7.5)'><foreignObject height='15' width='47.59375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>Expire()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-trim_to_size-41' transform='translate(375.3359375, 378)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='91.53125' x='-45.765625' y='-15'/><g class='label' style='' transform='translate(-38.265625, -7.5)'><foreignObject height='15' width='76.53125'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>TrimToSize()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-finalize-42' transform='translate(121.7109375, 448)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='177.421875' x='-88.7109375' y='-15'/><g class='label' style='' transform='translate(-81.2109375, -7.5)'><foreignObject height='15' width='162.421875'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>MemPoolAccept::Finalize()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-remove_staged-36' transform='translate(574.1328125, 258)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='117.765625' x='-58.8828125' y='-15'/><g class='label' style='' transform='translate(-51.3828125, -7.5)'><foreignObject height='15' width='102.765625'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>RemoveStaged()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-remove_unchecked-46' transform='translate(1070.3046875, 258)'><rect class='basic label-container' height='30' rx='0' ry='0' style='' width='137.390625' x='-68.6953125' y='-15'/><g class='label' style='' transform='translate(-61.1953125, -7.5)'><foreignObject height='15' width='122.390625'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>removeUnchecked()</span></div></foreignObject></g></g></g></g></g></svg>